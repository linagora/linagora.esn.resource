!function(e){var r={};function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,r){if(1&r&&(e=n(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)n.d(t,o,function(r){return e[r]}.bind(null,o));return t},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=0)}({"+tl7":function(e,r){!function(e){"use strict";function r(e){var r=this;r.openResourceUpdateModal=function(){e({templateUrl:"/linagora.esn.resource/app/components/resource-form-modal/resource-form-modal.html",controller:"ESNResourceFormUpdateController",backdrop:"static",placement:"center",controllerAs:"ctrl",locals:{resource:r.resource,type:r.type}})}}r.$inject=["$modal"],e.module("linagora.esn.resource").controller("ESNResourceUpdateModalController",r)}(angular)},0:function(e,r,n){n("fjLs"),n("NqkH"),n("zmLk"),n("zfAQ"),n("HgEb"),n("JUcc"),n("UX5t"),n("UNHi"),n("aHA8"),n("TISJ"),n("f56d"),n("u95S"),n("xRZA"),n("eTXX"),n("ehll"),n("puMC"),n("eLXV"),n("9R+t"),n("tWao"),n("yaqS"),n("WoPb"),n("C7vT"),n("XOB8"),n("xTSL"),n("yneG"),n("34Tb"),e.exports=n("+tl7")},"34Tb":function(e,r){!function(e){"use strict";e.module("linagora.esn.resource").component("esnResourceUpdateModal",{bindings:{resource:"=",type:"=?"},controller:"ESNResourceUpdateModalController",controllerAs:"ctrl",transclude:!0,templateUrl:"/linagora.esn.resource/app/update/resource-update.html"})}(angular)},"9R+t":function(e,r){!function(e){"use strict";function r(e,r){var n=this;n.onDelete=function(){r.remove(n.resource._id).then((function(){e.reload()}))}}r.$inject=["$state","esnResourceAPIClient"],e.module("linagora.esn.resource").controller("esnResourceListItemController",r)}(angular)},C7vT:function(e,r){!function(e){"use strict";e.module("linagora.esn.resource").constant("ESN_RESOURCE_OBJECT_TYPE","resource").constant("ESN_RESOURCE",{TYPES:["admin","directory","resource","calendar"],DEFAULT_ICON:"home",ICONS:{"access-point":"mdi-access-point",battery:"mdi-battery",briefcase:"mdi-briefcase",calculator:"mdi-calculator",camera:"mdi-camera",car:"mdi-car",caravan:"mdi-caravan",cellphone:"mdi-cellphone",coffee:"mdi-coffee","credit-card":"mdi-credit-card",deskphone:"mdi-deskphone","guitar-acoustic":"mdi-guitar-acoustic",fax:"mdi-fax",home:"mdi-home",kettle:"mdi-kettle",laptop:"mdi-laptop",microphone:"mdi-microphone",motorbike:"mdi-motorbike",office:"mdi-office",parking:"mdi-parking",phone:"mdi-phone",projector:"mdi-projector",radio:"mdi-radio",remote:"mdi-remote",soccer:"mdi-soccer",sofa:"mdi-sofa",tablet:"mdi-tablet",train:"mdi-train",umbrella:"mdi-umbrella",video:"mdi-video",wifi:"mdi-wifi"}})}(angular)},HgEb:function(e,r){!function(){"use strict";function e(e,r,n,t,o,i,c){var s=this;s.type=r,s.beAdmin=!0,s.submit=function(){return o({progressing:"Creating resource...",success:"Resource has been created",failure:"Failed to create resource"},(function(){return s.resource.type=s.selectedType,s.resource.icon=s.resource.icon?s.resource.icon:c.DEFAULT_ICON,s.resource.administrators=n.map(s.resourceAdministrators,(function(e){return{id:e._id,objectType:"user"}})),s.beAdmin&&s.resource.administrators.push({id:i.user._id,objectType:"user"}),t.create(s.resource).finally((function(){e.reload()}))}))},s.resourceAdministrators=[],s.resourceTypes=c.TYPES,s.defaultResourceType="resource",s.selectedType=s.type||"resource",s.isSelected=function(e){return e===s.selectedType}}e.$inject=["$state","type","_","esnResourceAPIClient","asyncAction","session","ESN_RESOURCE"],angular.module("linagora.esn.resource").controller("ESNResourceFormCreateController",e)}()},JUcc:function(e,r){!function(){"use strict";function e(e,r,n,t,o,i,c,s){var u=this;u.type=n,u.resource=r,u.beAdmin=!1,u.submit=function(){return i({progressing:"Updating resource...",success:"Resource has been updated",failure:"Failed to update resource"},(function(){var r=t.map(u.resourceAdministrators,(function(e){return{id:e._id,objectType:"user"}}));u.resource.administrators=u.resource.administrators.concat(r);var n=!!t.find(u.resource.administrators,{id:c.user._id,objectType:"user"});return u.resource.type=u.selectedType,u.beAdmin&&!n&&u.resource.administrators.push({id:c.user._id,objectType:"user"}),o.update(u.resource).finally((function(){e.reload()}))}))},u.resourceAdministrators=[],u.initialAdministrators=angular.copy(u.resource.administrators).map((function(e){return e._id=e.id,e})),u.resourceTypes=s.TYPES,u.defaultResourceType="resource",u.selectedType=u.resource.type||"resource",u.isSelected=function(e){return e===u.selectedType},u.onAdminRemove=function(e){t.remove(u.resource.administrators,{id:e}),t.remove(u.initialAdministrators,{_id:e})},u.onAddingAdmin=function(e){return!!e._id}}e.$inject=["$state","resource","type","_","esnResourceAPIClient","asyncAction","session","ESN_RESOURCE"],angular.module("linagora.esn.resource").controller("ESNResourceFormUpdateController",e)}()},NqkH:function(e,r){!function(e){"use strict";function r(e){return{objectType:e,templateUrl:"/linagora.esn.resource/app/attendee-provider/attendee-template.html"}}r.$inject=["ESN_RESOURCE_OBJECT_TYPE"],e.module("linagora.esn.resource").factory("esnResourceAttendeeProvider",r)}(angular)},TISJ:function(e,r){!function(e){"use strict";function r(e){var r=this;r.openResourceCreateModal=function(){e({templateUrl:"/linagora.esn.resource/app/components/resource-form-modal/resource-form-modal.html",controller:"ESNResourceFormCreateController",backdrop:"static",placement:"center",controllerAs:"ctrl",locals:{type:r.type}})}}r.$inject=["$modal"],e.module("linagora.esn.resource").controller("ESNResourceCreateModalController",r)}(angular)},UNHi:function(e,r){!function(e){"use strict";function r(r,n){var t=this;t.RESOURCE_ICONS=n.ICONS,t.iconKeys=Object.keys(t.RESOURCE_ICONS),t.set=function(){t.selected&&(t.icon=t.selected)},t.select=function(e){t.selected=e},t.isSelected=function(e){return t.selected===e},t.openModal=function(){t.selected=t.icon,r({templateUrl:"/linagora.esn.resource/app/components/resource-icon-picker/modal/resource-icon-picker-modal.html",controller:function(r){e.extend(r,t)},backdrop:"static",placement:"center"})}}r.$inject=["$modal","ESN_RESOURCE"],e.module("linagora.esn.resource").controller("esnResourceIconPickerController",r)}(angular)},UX5t:function(e,r){!function(e){"use strict";e.module("linagora.esn.resource").component("esnResourceIconPicker",{templateUrl:"/linagora.esn.resource/app/components/resource-icon-picker/resource-icon-picker.html",bindings:{icon:"=?"},controller:"esnResourceIconPickerController",controllerAs:"ctrl"})}(angular)},WoPb:function(e,r){!function(e){"use strict";function r(e){return{create:function(e){return n().post(e)},get:function(e){return n().one(e).get()},list:r,remove:function(e){return n().one(e).remove()},search:function(e,n,t){return r({query:e,limit:n,offset:t})},update:function(e){return n().one(e._id).customPUT(e)}};function r(e){return n().getList(e)}function n(){return e.all("resources")}}r.$inject=["esnResourceRestangular"],e.module("linagora.esn.resource").factory("esnResourceAPIClient",r)}(angular)},XOB8:function(e,r){!function(){"use strict";function e(e){return e.withConfig((function(e){e.setBaseUrl("/linagora.esn.resource/api"),e.setFullResponse(!0)}))}e.$inject=["Restangular"],angular.module("linagora.esn.resource").factory("esnResourceRestangular",e)}()},aHA8:function(e,r){!function(e){"use strict";function r(e){var r=this;r.openResourceCreateModal=function(){e({templateUrl:"/linagora.esn.resource/app/components/resource-form-modal/resource-form-modal.html",controller:"ESNResourceFormCreateController",backdrop:"static",placement:"center",controllerAs:"ctrl",resolve:{type:function(){return r.type}}})}}r.$inject=["$modal"],e.module("linagora.esn.resource").component("esnResourceCreateModal",{bindings:{type:"=?"},controller:r,controllerAs:"ctrl",transclude:!0,templateUrl:"/linagora.esn.resource/app/create/resource-create.html"})}(angular)},eLXV:function(e,r){!function(e){"use strict";e.module("linagora.esn.resource").component("esnResourceListItem",{bindings:{resource:"<"},controllerAs:"ctrl",controller:"esnResourceListItemController",templateUrl:"/linagora.esn.resource/app/list/item/resource-list-item.html"})}(angular)},eTXX:function(e,r){!function(e){"use strict";e.module("linagora.esn.resource").component("esnResourceAdministratorList",{bindings:{administrators:"=",onRemove:"="},controllerAs:"ctrl",templateUrl:"/linagora.esn.resource/app/list-administrator/resource-administrator-list.html"})}(angular)},ehll:function(e,r){!function(e){"use strict";e.module("linagora.esn.resource").directive("esnResourceListItemDropdownAdminLinks",(function(){return{restrict:"E",templateUrl:"/linagora.esn.resource/app/list/item/admin-links/resource-list-item-dropdown-admin-links.html"}}))}(angular)},f56d:function(e,r){!function(e){"use strict";e.module("linagora.esn.resource").component("esnResourceAdministratorListItem",{bindings:{administrator:"=",onRemove:"="},controllerAs:"ctrl",templateUrl:"/linagora.esn.resource/app/list-administrator/item/resource-administrator-list-item.html"})}(angular)},fjLs:function(e,r){!function(e){"use strict";e.module("linagora.esn.resource",["esn.attendee","esn.session","esn.user","op.dynamicDirective","esn.lodash-wrapper","ui.router","mgcrea.ngStrap.modal","restangular"])}(angular)},puMC:function(e,r){!function(e){"use strict";e.module("linagora.esn.resource").run(["dynamicDirectiveService","DynamicDirective","session","_",function(e,r,n,t){function o(e){return r=e.ctrl.resource,o=n.user,r&&t.find(r.administrators,{objectType:"user",id:o._id})||function(e,r){return 0===e.administrators.length&&e.creator===r._id}(e.ctrl.resource,n.user);var r,o}n.ready.then((function(){var n=new r(o,"esn-resource-list-item-dropdown-admin-links");e.addInjection("esn-resource-list-item-dropdown",n)}))}])}(angular)},tWao:function(e,r){!function(){"use strict";angular.module("linagora.esn.resource").component("esnResourceList",{bindings:{type:"="},controllerAs:"ctrl",controller:"ESNResourceListController",templateUrl:"/linagora.esn.resource/app/list/resource-list.html"})}()},u95S:function(e,r){!function(e){"use strict";e.module("linagora.esn.resource").component("esnResourceAdministratorListItemUser",{bindings:{administrator:"=",onRemove:"<"},controllerAs:"ctrl",controller:"ESNResourceAdministratorListItemUserController",templateUrl:"/linagora.esn.resource/app/list-administrator/item/user/resource-administrator-list-item-user.html"})}(angular)},xRZA:function(e,r){!function(e){"use strict";function r(e){var r=this;r.$onInit=function(){e.user(r.administrator.id).then((function(e){r.administratorInfo=e.data}))}}r.$inject=["userAPI"],e.module("linagora.esn.resource").controller("ESNResourceAdministratorListItemUserController",r)}(angular)},xTSL:function(e,r){!function(e){"use strict";function r(e,r){e.addProvider(r)}r.$inject=["attendeeService","esnResourceAttendeeProvider"],e.module("linagora.esn.resource").run(r)}(angular)},yaqS:function(e,r){!function(){"use strict";function e(e,r){var n=this,t={offset:0,limit:20};function o(){return t.offset=n.elements.length,r.list(t).then((function(e){return e.data}))}n.$onInit=function(){n.type&&(t.type=n.type);n.loadMoreElements=e(n,o)}}e.$inject=["infiniteScrollHelper","esnResourceAPIClient"],angular.module("linagora.esn.resource").controller("ESNResourceListController",e)}()},yneG:function(e,r){!function(e){"use strict";e.module("linagora.esn.resource").factory("esnResourceService",(function(){return{getEmail:function(e){return e._id+"@"+e.domain.name}}}))}(angular)},zfAQ:function(e,r){!function(e){"use strict";function r(e){var r=this;r.$onInit=function(){r.resourceName=r.resource.name||r.resource.displayName,r.resourceIcon=e.ICONS[r.resource.icon]}}r.$inject=["ESN_RESOURCE"],e.module("linagora.esn.resource").controller("esnResourceAvatarController",r)}(angular)},zmLk:function(e,r){!function(e){"use strict";e.module("linagora.esn.resource").component("esnResourceAvatar",{bindings:{resource:"<"},controllerAs:"ctrl",controller:"esnResourceAvatarController",templateUrl:"/linagora.esn.resource/app/avatar/resource-avatar.html"})}(angular)}});